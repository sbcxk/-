(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-index-users-kt"],{"6d38":function(t,e,n){"use strict";n.r(e);var o=n("c831"),r=n("b675");for(var u in r)"default"!==u&&function(t){n.d(e,t,(function(){return r[t]}))}(u);var a,i=n("f0c5"),c=Object(i["a"])(r["default"],o["b"],o["c"],!1,null,"52fd6cc8",null,!1,o["a"],a);e["default"]=c.exports},b675:function(t,e,n){"use strict";n.r(e);var o=n("fe25"),r=n.n(o);for(var u in o)"default"!==u&&function(t){n.d(e,t,(function(){return o[t]}))}(u);e["default"]=r.a},c831:function(t,e,n){"use strict";var o;n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return u})),n.d(e,"a",(function(){return o}));var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",[t._v("正在支付中，若此页面没有任何提醒标识支付平台未成功通知……")])},u=[]},fe25:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o={data:function(){return{url:""}},onUnload:function(){console.log("关闭了支付"),clearInterval(uni.getStorageSync("hca"))},methods:{getCode:function(){var t=this;uni.setNavigationBarTitle({title:"检测支付中……"});var e=1,n=setInterval((function(){uni.setStorageSync("hca",n),e>10?clearInterval(n):t.$api("/users/gethPay","post",{out_trade_no:t.$route.query.out_trade_no}).then((function(e){1==e.data.code&&(clearInterval(n),uni.setNavigationBarTitle({title:"支付成功！"}),t.$do({message:"升级成功，请退出账号重新登录已更新最新权限~"}).then((function(){t.$api("/logout").then((function(e){1==e.data.code&&(clearInterval(n),t.$to.success("退出成功"),uni.removeStorageSync("users"),t.users={},setTimeout((function(){window.location.href="/"}),1e3))}))}))),console.log(e.data)}))}),2e3)}},onLoad:function(){if(this.$u.test.isEmpty(this.$route.query.out_trade_no)||this.$u.test.isEmpty(this.$route.query.money)){console.log("非支付成功");var t=this.$route.query.out_trade_no;window.location.href=uni.getStorageSync(t)}else console.log("支付成功回调");this.getCode()}};e.default=o}}]);